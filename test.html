<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<title>test</title>
<style type="text/css">
   html,
   body { margin: 0; padding: 0; height: 2200px; }
   #main { width:800px; height: 500px; margin: 0 auto; margin-top:150px; background-color: #000000; }
   #left { float:left; width: 20%; height:500px; position:absolute; display: block; }
   #right { width: 80%; }
   .sq, .sq2 { width: 100px; height: 100px; background-color: #e5e5e5; position:absolute; }
</style>
</head>

<body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
   //<![CDATA[
   (function() {
   ///// CONFIGURATION VARIABLES:
   var name             = ".sq";
   var menu_top_limit       = 400;
   var menu_top_margin    = 10;
   var menu_shift_duration = 500;
   var menuYloc = null;
   ///////////////////////////////////

      $(window).scroll(function() 
      {
        var scrolledDistance = $(document).scrollTop();
        
        $(name).each(function () {
          var parent = $(this).offsetParent();
          var parentTopOffset = parent.offset().top;
          var parentHeight = parent.height();
          var boxHeight = $(this).height();
          
          var position = Math.max(
            0,
            Math.min(
              scrolledDistance - parentTopOffset + menu_top_margin,
              parentHeight - boxHeight
            )
          );
          
          $(this).animate({
            top: position
          }, {duration:menu_shift_duration,queue:false});
        });
      });
   })();
   //]]>
</script>

   <div id="main">
      <div id="left">
         <div class="sq">XXX</div>
      </div>
      <div id="right"></div>
   </div>
   
   <div id="main">
      <div id="left">
         <div class="sq">XXX</div>
      </div>
      <div id="right"></div>
   </div>

</body>
</html>